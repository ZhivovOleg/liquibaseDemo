# USE CASES

## Создание новой миграции БД

Разработчик хочет сделать некоторое изменение схемы одной из БД и добавить это изменение в следующий релиз

- Как будет выглядеть для него процесс?
- Как он будет убеждаться, что созданная им миграция вообще работает?
- Как он будет убеждаться, что созданная им миграция делает то, что он ожидает?
- Как он сможет продолжить работать, например писать и тестировать сервис, который завязан на эту миграцию?
- Как будут работать другие разработчики, в том числе которым нужна или наоборот НЕ нужна эта миграция?

## Обеспечение защиты от падения прода при накате миграций

Разработчики добавили в систему новую миграцию. Возможно эта миграция задействует основные таблицы БД. Мы хотим быть уверены, что ее применение на проде не приведет к деградации сервиса в процессе развертывания миграции

## Связанные миграции схемы БД и обновления сервисов

Разработчик хочет внести новый функционал. Для этого необходимо добавить в таблицу `Т` `non-nullable` поле `F`. Эта таблица используется сервисом `S` на запись. Сервис `S` важный и его нельзя просто обновить. Ожидаемая последовательность действий: 

## Изменения на проде

Внезапно понадобилось СРОЧНО внести изменения на один из продакшен-стендов, например, на проде все тормозит и нужно срочно добавить индекс, иначе все встанет прямо сейчас

Как это делать? Разрешаем ли мы менять что-то напрямую на проде?
- Если да, то как потом жить с "разъехавшимися" стендами?
- Если нет, то как делать срочные фиксы?

## Изменения, специфичные для единичного стенда

Нужно внести изменения, которые должны появиться только на одном стенде. Например, в `банке А` нужно добавить новую таблицу и сервис, которых нет на других стендах
- Как это делать?
- Как обеспечить "непротекание" изменений на другие стенды?
- Как обеспечить совместимость последующих изменений от других стендов с этим специфичным изменением?




